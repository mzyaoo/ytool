<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>顶部菜单带Logo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/utils/elementui/theme-chalk/index.css}">
    <link rel="stylesheet" th:href="@{/css/layout/index.css}">
</head>
<body>
<div id="app">
    <el-container>
        <!-- 顶部菜单区域（带 logo） -->
        <el-header>
            <div class="logo-area">
            </div>
            <el-menu
                    mode="horizontal"
                    :default-active="activeMenu"
                    background-color="#409EFF"
                    text-color="#fff"
                    active-text-color="#ffd04b"
                    @select="handleMenuSelect"
                    style="flex: 1;"
            >
                <!-- 顶级菜单循环 -->
                <template th:each="menu : ${menus}">
                    <!-- 有子菜单 -->
                    <el-submenu th:if="${#lists.isEmpty(menu.children)} == false"
                                th:attr="index=${menu.id}">
                        <template slot="title">
                            <i th:class="${menu.icon}"></i>
                            <span th:text="${menu.name}" style="margin-left: 5px;"></span>
                        </template>
                        <el-menu-item
                                th:each="child : ${menu.children}"
                                th:attr="index=${child.path}">
                            <i th:class="${child.icon}"></i>
                            <span th:text="${child.name}" style="margin-left: 5px;"></span>
                        </el-menu-item>
                    </el-submenu>

                    <!-- 无子菜单 -->
                    <el-menu-item th:if="${#lists.isEmpty(menu.children)}"
                                  th:attr="index=${menu.path}">
                        <i th:class="${menu.icon}"></i>
                        <span th:text="${menu.name}" style="margin-left: 5px;"></span>
                    </el-menu-item>

                </template>
            </el-menu>
        </el-header>

        <!-- 主体内容区域 -->
        <el-main>
            <iframe class="main-iframe" :src="iframeSrc"></iframe>
        </el-main>
    </el-container>
</div>

<script th:src="@{/utils/jQuery3.6.0.min.js}"></script>
<script th:src="@{/utils/vue2.7.16.min.js}"></script>
<script th:src="@{/utils/elementui/ele-lib-index.js}"></script>
<script>
    new Vue({
        el: '#app',
        data() {
            return {
                activeMenu: '/admin/user',
                iframeSrc: '/admin/user'
            }
        },
        methods: {
            handleMenuSelect(path) {
                this.iframeSrc = path;
                this.activeMenu = path;
            }
        }
    })
</script>
</body>
</html>
